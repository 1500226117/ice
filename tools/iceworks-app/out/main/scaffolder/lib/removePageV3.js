const e=require("path"),r=require("path-exists"),t=require("rimraf"),o=require("./routes"),a=require("./interactiveFileReplacement");module.exports=async function({clientSrcPath:n,pageFolderName:s}){const i=e.join(n,`/pages/${s}`);t.sync(i);let u=e.join(n,"routes.jsx");if(r.sync(u)||(u=e.join(n,"router.js")),r.sync(u)){const e=new a({file:u,tagPrefix:"// \x3c!-- auto generated routes start --\x3e",tagSuffix:"// \x3c!-- auto generated routes end --\x3e"}),r=o._parseRoute(e.getFileContent());o.removeImports(r.program.body,[{type:"page",ref:s}]),o.removeRouteByPageName(r.program.body,s);const{code:t}=o._generateRoute({type:"Program",body:r.program.body});e.replace(t)}};